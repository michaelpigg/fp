<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Presentation</title>

  <meta name="viewport" content="width=device-width"/>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" />

  <script type="text/javascript" src="./js/jquery-1.7.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>
  <script type="text/javascript" src="./js/coffee-script.js"></script>

  
    
      <script type="text/javascript" src="./js/sh_lang/sh_scala.min.js"></script>
    
      <script type="text/javascript" src="./js/sh_lang/sh_java.min.js"></script>
    
  

  

  

  <script type="text/javascript">
  $(function(){
      setupPreso(false, './');
  });
  </script>

</head>

<body>

<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">z, ?</td><td>toggle help (this)</td></tr>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">shift-space, &larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>toggle debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c, t</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">n</td><td>toggle notes</td></tr>
    <tr><td class="key">p</td><td>run preshow</td></tr>
    <tr><td class="key">P</td><td>toggle pause</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
  <span id="notesInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/1">
<h1>Functional Programming in Scala</h1>

<p>Michael Pigg
Chariot Day 2013</p>
</div>
</div><div class="slide" data-transition="none"><div class="content left" ref="./pres/fpinscala/2">
<h1>Outline</h1>

<p>Define Functional Programming</p>

<p>Scala Function Definitions</p>

<p>Explore FP with Scala Collections</p>

<p>More General FP</p>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets left incremental" ref="./pres/fpinscala/3">
<h1>Functional Programming</h1>

<ul>
<li><p>First class functions</p>

<ul>
<li>functions can be used anywhere</li>
</ul></li>
<li><p>Higher order functions</p>

<ul>
<li>functions that take or return functions</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets left" ref="./pres/fpinscala/4">
<h1>Pure Functions</h1>

<p class="notes">Altering memory includes reassigning a variable, modifying a data structure in place, setting a field on an object</p>

<ul>
<li>Lack of side effects

<ul>
<li>Does not alter memory or perform I/O</li>
</ul></li>
<li>Input obtained via arguments to function</li>
<li>Output is given through return value</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets left" ref="./pres/fpinscala/5">
<h1>Immutable Data</h1>

<ul>
<li>Pure functions can not modify data in place</li>
<li>Use of immutable data structures</li>
<li>Improves function in concurrent scenarios</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets left" ref="./pres/fpinscala/6">
<h1>Modularity</h1>

<ul>
<li>Modularity is delivered at the function level

<ul>
<li>functions are reusable and composable</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets left incremental" ref="./pres/fpinscala/7">
<h1>Scala and FP</h1>

<ul>
<li><p>Scala is a hybrid language that supports</p>

<ul>
<li>functional paradigm</li>
<li>object-oriented paradigm</li>
</ul></li>
<li><p>Functions are first-class in Scala</p>

<ul>
<li>Actually implemented as objects</li>
</ul></li>
<li><p>Immutable data structures by default</p></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/8">
<h1>Writing Functions as Methods</h1>

<pre class="sh_scala"><code>def addOne(x: Int) = x + 1</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/9">
<h1>Verbose Function Literals</h1>

<pre class="sh_scala"><code>val addOne = (x: Int) =&gt; x + 1</code></pre>

<p>Defines a function Int =&gt; Int</p>

<p>Assigns it to the variable addOne</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/10">
<h1>Less Verbose Function Literals</h1>

<pre class="sh_scala"><code>x =&gt; x + 1</code></pre>

<p>This form is used with higher-order functions where the compiler can infer the type</p>

<p>The variable x represents is bound to the single input argument</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/11">
<h1>Terse Function Literals</h1>

<pre class="sh_scala"><code>_ + 1</code></pre>

<p>This form is also used with higher-order functions</p>

<p>The underscore symbol is bound to an input argument</p>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="./pres/fpinscala/12">
<h1>Methods vs Functions</h1>

<ul>
<li><p>Methods are defined as part of a class</p></li>
<li><p>Functions are a complete object</p>

<ul>
<li>Function0, Function1, etc.</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content code" ref="./pres/fpinscala/13">
<h1>Function chaining</h1>

<pre class="sh_scala"><code>val multTwo: (Int =&gt; Int) = x =&gt; x * 2

val chain = addOne.andThen(multTwo)

chain(1)
4</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/14">
<h1>Scala Collections</h1>

<p>Scala has a rich collections library</p>

<p>The collections make extensive use of higher-order functions</p>

<p>We will work with the Vector collection to start</p>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="./pres/fpinscala/15">
<h1>map Function</h1>

<ul>
<li>The map function

<ul>
<li>takes a function as an argument</li>
<li>applies the function to each element of the collection</li>
<li>produces a collection containing the results</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/16">
<h1>map example</h1>

<pre><code><code class="command">$ val numbers = Vector(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)</code>
<code class="result">
</code><code class="command">$ numbers.map(x =&gt; x + 1)</code>
<code class="result">Vector(2, 3, 4, 5, 6, 7, 8, 9, 10, 11)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/17">
<h1>terse map</h1>

<pre><code><code class="command">$ numbers.map(_ + 1)</code>
<code class="result">Vector(2, 3, 4, 5, 6, 7, 8, 9, 10, 11)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/18">
<h1>map with a function</h1>

<pre><code><code class="command">$ val addOne = (x: Int) =&gt; x + 1</code>
<code class="result">
</code><code class="command">$ numbers.map(addOne)</code>
<code class="result">Vector(2, 3, 4, 5, 6, 7, 8, 9, 10, 11)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/19">
<p>oh, the power</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/20">
<pre class="sh_java"><code>List&lt;Int&gt; numbers2 = new ArrayList();
for (number : numbers) {
    numbers2.add(number + 1);
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets incremental" ref="./pres/fpinscala/21">
<h1>What's Different?</h1>

<p class="notes">This is the difference between internal and external iteration. Java collections = external, Scala = internal</p>

<ul>
<li><p>We didn't</p>

<ul>
<li>Explicitly code a loop</li>
<li>Tell the system how to iterate over the collection</li>
</ul></li>
<li><p>We did</p>

<ul>
<li>Say what should be done to each element</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets incremental" ref="./pres/fpinscala/22">
<h1>So What?</h1>

<ul>
<li><p>Less boilerplate coding</p></li>
<li><p>Flexibility</p>

<ul>
<li>Easier to change underlying collection</li>
<li>Easier to go parallel</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets" ref="./pres/fpinscala/23">
<h1>Predicates</h1>

<ul>
<li>Many collections functions take a predicate

<ul>
<li>p:A =&gt; Boolean</li>
<li>element p does/does not pass a test</li>
</ul></li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content bullets incremental" ref="./pres/fpinscala/24">
<h1>Predicate Functions</h1>

<p>dropWhile - drop elements until predicate is not satisfied</p>

<p>find - find first element that satisfies predicate</p>

<p>filter - return all elements that satisfy predicate</p>

<p>forAll - returns true if predicate holds for all elements</p>

<p>exists - return true if at least one element satisfies predicate</p>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/25">
<h1>find</h1>

<p class="notes">find returns an Option, which is Some if find returns something, None otherwise</p>

<pre><code><code class="command">$ numbers.find(a =&gt; a &gt; 3)</code>
<code class="result">Option[Int] = Some(4)

</code><code class="command">$ numbers.find(a =&gt; a % 2 == 0)</code>
<code class="result">Option[Int] = Some(2)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/26">
<h1>even predicate</h1>

<pre><code><code class="command">$ val even: (Int =&gt; Boolean) = a =&gt; a % 2 == 0</code>
<code class="result">even: Int =&gt; Boolean = &lt;function1&gt;

</code><code class="command">$ even(3) </code>
<code class="result">false
</code><code class="command">$ even(4)</code>
<code class="result">true
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/27">
<h1>even predicate with functions</h1>

<p class="notes">We can pass a function reference instead of a function literal to a HOF</p>

<pre><code><code class="command">$ numbers.find(even)</code>
<code class="result">Some(2)

</code><code class="command">$ numbers.filter(even)</code>
<code class="result">Vector(2, 4, 6, 8, 10)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/28">
<h1>what about odd?</h1>

<p class="notes">We could define a method that calls our even function and negates the result</p>

<pre><code><code class="command">$ val odd: Int =&gt; Boolean = a =&gt; !(even(a))</code>
<code class="result">odd: Int =&gt; Boolean = &lt;function1&gt;

</code><code class="command">$ odd(2)</code>
<code class="result">false
</code><code class="command">$ odd(3)</code>
<code class="result">true

</code><code class="command">$ numbers.filter(odd)</code>
<code class="result">Vector(1, 3, 5, 7, 9)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/29">
<h1>groupBy</h1>

<p>takes a function that returns a value for each element in a collection</p>

<p>returns a map that has the values returned as keys and a collection of elements mapping to that key for the value</p>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/30">
<h1>groupBy example</h1>

<pre><code><code class="command">$ numbers.groupBy(even)</code>
<code class="result">Map(false -&gt; Vector(1, 3, 5, 7, 9), 
 true -&gt; Vector(2, 4, 6, 8, 10))

</code><code class="command">$ numbers.groupBy(a =&gt; a % 2)</code>
<code class="result">Map(1 -&gt; Vector(1, 3, 5, 7, 9), 0 -&gt; Vector(2, 4, 6, 8, 10))
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline" ref="./pres/fpinscala/31">
<h1>groupBy more than two</h1>

<pre><code><code class="command">$ Vector("apple", "apricot", "bannana", "grape", "orange" )</code>
<code class="result">  .groupBy(_.charAt(0))
Map(a -&gt; Vector(apple, apricot), o -&gt; Vector(orange),
  b -&gt; Vector(bannana), g -&gt; Vector(grape))
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/32">
<h1>Parallel Collection</h1>

<pre><code><code class="command">$ val numbers = Vector(1, 2, 3, 4, 5, 6, 7, 8, 9, 10).par</code>
<code class="command">$ numbers.map(addOne)</code>
<code class="result">Vector(2, 3, 4, 5, 6, 7, 8, 9, 10, 11)
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/33">
<h1>Exploring parallel collections</h1>

<pre class="sh_scala"><code>val fib: (Int =&gt; Long) = a =&gt; {
    a match {
        case 0 =&gt; 0
        case 1 =&gt; 1
        case _ =&gt; fib(a-2) + fib(a-1)
    }
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/34">
<h1>Timing a function</h1>

<pre class="sh_scala"><code>def now = System.currentTimeMillis

def elapsed(f: =&gt; Unit): Long = {
  val start = now
  f
  now - start
}</code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/35">
<h1>Gather some data</h1>

<pre><code><code class="command">$ elapsed(fib(5))</code>
<code class="result">0
</code><code class="command">$ elapsed(fib(30))</code>
<code class="result">10
</code><code class="command">$ def tfx(x: Int): Long = elapsed(fib(x))</code>
<code class="result">tfx: (x: Int)Long
</code><code class="command">$ tfx(40)</code>
<code class="result">1223
</code><code class="command">$ tfx(42)</code>
<code class="result">3190
</code><code class="command">$ tfx(44)</code>
<code class="result">8383
</code></code></pre>
</div>
</div><div class="slide" data-transition="none"><div class="content commandline incremental" ref="./pres/fpinscala/36">
<h1>Fake work queue</h1>

<pre><code><code class="command">$ elapsed(Vector(44,44,44,44).map(fib))</code>
<code class="result">44165
</code><code class="command">$ elapsed(Vector(44,44,44,44).par.map(fib))</code>
<code class="result">21463
</code></code></pre>

<p>Timings from 2.4 Ghz Core 2 Duo and Scala 2.9.1 (2.10.0 is similar)</p>
</div>
</div><div class="slide" data-transition="none"><div class="content" ref="./pres/fpinscala/37">
<h1>References</h1>

<p>Functional Programming in Scala, Chiusano and Bjarnason, Manning</p>

<p>State of the Lambda: Libraries Edition, Goetz, http://cr.openjdk.java.net/~briangoetz/lambda/sotc3.html</p>
</div>
</div></div>
<div id="pauseScreen">
  
</div>

</body>
</html>
